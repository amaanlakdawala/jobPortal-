{% extends 'emain.html' %}
{% block title %}
Messages
{% endblock %}

{% load static %}
{% block content %}
<style>
  
 .custom-card {
    max-width: 60%;
    margin: 0 auto;
    border: 2px solid #FFC107; /* Hot pink border color */
    border-radius: 15px; /* Rounded corners */
    box-shadow: 0 0 10px rgba(255, 105, 180, 0.5); /* Pink shadow */
    transition: transform 0.3s ease-in-out;
    border: 2px solid #FFC107;
        box-shadow: 0 10px 10px rgba(36, 95, 221, 0.5);
}

.custom-card:hover {
    transform: scale(1.05);
     /* Slightly enlarges the card on hover */
}
  @keyframes flashAndZoom {
    0% {
        color: #0056B3; /* Initial color */
        transform: scale(1); /* Initial size */
    }
    50% {
        color: #FFC107; /* Midway color */
        transform: scale(1.5); /* Zoomed in size */
    }
    100% {
        color: #0056B3; /* Final color */
        transform: scale(1); /* Back to initial size */
    }
}

.flashing-header {
    animation: flashAndZoom 1s infinite; /* Animation lasting 1 second, repeating infinitely */
    display: inline-block; /* To ensure transform works correctly */
}
.latest_jobs{
    text-align: center;

}

.delete-button {
  border: none;
    position: absolute;
    top: 10px; /* Adjust as necessary */
    right: 10px; /* Adjust as necessary */
}
.button_border{
  border: none;
}

</style>


<div class="latest_jobs">
  <h1 class="mt-4 mb-4 flashing-header">Messages</h1>
  </div>

{% for room in rooms %}

<div class="card mt-3 mb-3 p-4  jobs-single custom-card" >
    <div class="row">
      <div class="col-md-4 info message_card">
        <img src="{{room.user.avatar.url}}" class="img-fluid rounded-start info" alt="OOPS">
      </div>
      <div class="col-md-8">
        <div class="card-body info">
          
          <ul class="list-group list-group-flush info">
            <li class="list-group-item info"><a href="{% url 'chat' room.id %}"><h5>{{room.user.name}}</h5></a></li>
            <li class="list-group-item info"><strong>Education </strong>{{room.user.education}}</li>
            <li class="list-group-item info"><strong>Location: </strong>{{room.user.location}}</li>
            <li class="list-group-item info"><strong>Skills </strong>{{room.user.skills}}</li>
            <li class="list-group-item info"><strong>Experience </strong>{{room.user.experience}}</li>

             <!-- <form action="" method="POST"  class="delete-button">
    
              {% csrf_token %}
              <input type="hidden" name="user_id" value="{{ room.user.id }}">
              -->
              <button class="btn btn-primary delete-button" type="button" data-bs-toggle="modal" data-bs-target="#exampleModal{{room.id}}"> <i class="bi bi-x-lg"></i></button> 
             
              <!-- <li class="list-group-item info"><strong><input class="btn btn-primary" type="submit" value="Delete"></strong></li> -->
            <!-- </form> -->
            
            
          </ul>
          <!-- <p class="card-text">{{job.job_type}}</p> -->
          <!-- <p class="card-text"><small class="text-body-secondary">{{job.created | timesince }}  ago</small></p> -->
        </div>
      </div>
    </div>
  </div>



                                                <!-- MODAL -->
  <div class="modal fade" id="exampleModal{{room.id}}" tabindex="-1" aria-labelledby="exampleModalLabel{{room.id}}" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h1 class="modal-title fs-5" id="exampleModalLabel">Modal title</h1>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          Do You Want To Delete <strong>{{ room.user.name }}</strong> Messages?<br>
          Once Deleted All The Chats Will Be Deleted.
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
  
  
          <form action="" method="POST" >
      
            {% csrf_token %}
            <input type="hidden" name="user_id" value="{{ room.user.id }}">
            <button type="submit"  class="btn btn-primary">Delete</button>
           
            <!-- <li class="list-group-item button_border"><button class="btn btn-primary" type="submit"> <i class="bi bi-x-lg"></i></button></li>  -->
            <!-- <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#exampleModal">
              Launch demo modal
            </button> -->
            <!-- <li class="list-group-item info"><strong><input class="btn btn-primary" type="submit" value="Delete"></strong></li> -->
          </form>
          
  
  
         
  
  
  
  
  
  
        </div>
      </div>
    </div>
  </div>
  

  {% endfor %}
  <!-- Button trigger modal -->


<!-- Modal -->


<!-- <style>
    .info{
      background-color: #ACE2E1;
    }
    .tables{
      background-color: #008DDA;
    }
    .custom-table {
              background-color: #008DDA;
              border-collapse: collapse;
              width: 100%;
              text-align: center;
          }
          
          .custom-table th,
          .custom-table td {
              border: 1px solid #ddd;
              padding: 8px;
              text-align: left;
          }
          
          .custom-table th {
              background-color: #008DDA;
              color: #fff;
          }
          .overview{
            text-align: center;
          }
          .contact{
            color: white;
            text-decoration: none;
          }

         
          
         
  </style>


<div class="container">
    <div class="row">
        <div class="col-md-7">

            <h1>messages</h1>

        </div>

        <div class="col-md-5">
            <table class="custom-table">
                <thead>
                    <tr >
                        <th style="text-align: center;" colspan="2">Candidate Overview</th>
                        
                    </tr>
                </thead>
                <tbody>
                    <tr class="info">
                        <td>Name</td>
                        <td>{{ user.name }}</td>
                    </tr>
                    <tr class="info">
                        <td>Email:</td>
                        <td>{{ user.email }}</td>
                    </tr>
                    <tr class="info">
                        <td>Phone:</td>
                        <td>{{ user.phone }}</td>
                    </tr>
                   
                    
                </tbody>
            </table>
         
        </div>
    </div>
</div> -->



{% endblock %}