{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="{% static 'css/styles.css' %}">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
    <title>Register</title>
    <style>
        body{
           background-color: #343A40;
           overflow-y: auto;
        }
        .box1{
            height: 650px

        }
      </style>
    <!-- <style>
       
    body{
        background-color: #F7EEDD;
    }
    .login-form{
        background-color: #41C9E2;
    }

       
        .input-group input {
            width: 90%; 
        }
    </style> -->
</head>
<body>

   

 
    <!-- <div class="container">
        <div class="row mt-4">
            <div class="col-md-4 mx-auto shadow  rounded-3  mt-3 login-form">
                
                <div class="box">
                <h2 class="pt-2 ps-3">User Registration</h2>
                <form action="" method="POST">
                    {% csrf_token %}


    
                    {% for field in form %}
                    <div class="mb-3  ps-3">
                        <label for="{{ field.id_for_label }}" class="form-label">{{ field.label }}</label>
                        <div class="input-group">
                            {{ field }}
                        </div>
                    </div>
                    {% endfor %}
                   
                   <div class="mb-3  ps-3">
                        <label for="password2" class="form-label">Confirm Password</label>
                        <div class="input-group">
                            {{ form.password2 }}
                        </div>
                    </div> -->
                    
                    <!-- <div class="mb-3 d-flex j align-items-center ps-3">
                        <input type="submit" value="Register" class="btn btn-primary">
                        <span class="ms-2">Already have an account? <a href="{% url 'loginPage' %}">Login</a></span>
                    </div>
                </form>
                </div>
            
            </div>
        </div>
    </div> 
     -->


<!-- 
    <div class="container">
        <div class="row mt-5">
            <div class="col-md-4 mx-auto shadow p-3 bg-info-subtle rounded-3 mt-5">
                <h2>User Registration</h2>
                <form action="" method="POST">
                    {% csrf_token %}

                    {% for field in form %}
                    <div class="mb-3 ">
                        <label for="{{ field.id_for_label }}" class="form-label col-md-3 ">{{ field.label }}</label>
                        <div class="form-control" >
                            {{ field }}
                        </div>
                    </div>
                    {% endfor %}
                   
                    <div class="mb-3">
                        <input type="submit" value="Register" class="btn btn-primary">
                        Already have an account? <a href="">Login</a>
                    </div>


                </form>
            </div>
        </div>
    </div> -->















    <!-- <div class="container">
        <div class="row">
            <div class="col-md-6 offset-md-3">
                <h1 class="text-center mb-4">Registration</h1>
                <form action="" method="POST">
                    {% csrf_token %}
                    
                    {% for field in form %}
                    <div class="mb-3 row">
                        <label for="{{ field.id_for_label }}" class="form-label col-md-3 text-md-end">{{ field.label }}</label>
                        <div class="col-md-8">
                            {{ field }}
                        </div>
                    </div>
                    {% endfor %}
                    
                    <button type="submit" class="btn btn-primary">Register</button>
                </form>
                <p class="mt-3 text-center">Already Registered? <a href="{% url 'loginPage' %}">Sign In</a></p>
            </div>
        </div>
    </div>
     -->






    <!-- <div class="container">
        <div class="row">
            <div class="col-md-6 offset-md-3 mx-auto">
                <h1 class="text-center mb-4">Registration</h1>
                <form action="" method="POST">
                    {% csrf_token %}
                    
                    {% for field in form %}
                    <div class="mb-3 ">
                        <label for="{{ field.id_for_label }}" class="form-label ">{{ field.label }}</label>
                        {{ field }}
                    </div>
                    {% endfor %}
                    
                    <button type="submit" class="btn btn-primary ">Register</button>
                </form>
                <p class="mt-3 text-center">Already Registered? <a href="{% url 'loginPage' %}">Sign In</a></p>
            </div>
        </div>
    </div>
     -->


     <div class="particle-container"></div>
     
   
       <div class="box1">
           <form autocomplete="off"  method="POST">
               {% csrf_token %}
               <h2 class="sign_in">Registration Form</h2>
               {% for field in form %}
               <div class="mb-3  ps-3 form-back">
                   <label for="{{ field.id_for_label }}" class="form-label register_label">{{ field.label }}</label>
                   <div class="input-group">
                       {{ field }}
                   </div>
               </div>
               {% endfor %}
               
			
                  
               <input type="submit" value="Login">
           </form>
       </div>
   </div>
   <script>
    // Function to create a new particle
function createParticle() {
  if (particleCount >= 40) return; // Stop creating particles if the limit is reached

  const particle = document.createElement('div');
  particle.className = 'particle';
  particle.style.width = '10px'; // Set the particle size
  particle.style.height = '10px'; // Set the particle size

  // Choose a random neon color for the particle
  const neonColors = ['#f4e50e', '#00faff', '#2eff00', '#ff0000']; // Neon yellow, neon blue, neon green, neon red
  const color = neonColors[Math.floor(Math.random() * neonColors.length)];
  particle.style.backgroundColor = color;
  
  particle.style.borderRadius = '50%';
  const top = Math.random() * 100;
  const left = Math.random() * 100;
  particle.style.top = `${top}%`; // Random position from top
  particle.style.left = `${left}%`; // Random position from left

  // Calculate random direction and speed
  const angle = Math.random() * 360; // Random angle in degrees
  const speed = Math.random() * 4 + 1; // Random speed between 1 and 5 pixels per frame

  // Calculate velocity components
  let vx = Math.cos(angle * Math.PI / 180) * speed;
  let vy = Math.sin(angle * Math.PI / 180) * speed;

  // Function to update particle position
  function updatePosition() {
    const rect = particle.getBoundingClientRect();
    const containerRect = document.querySelector('.particle-container').getBoundingClientRect();
    const particles = document.querySelectorAll('.particle');

    particles.forEach(otherParticle => {
      if (otherParticle !== particle) {
        const otherRect = otherParticle.getBoundingClientRect();

        // Check for collision between particles
        if (rect.right >= otherRect.left && rect.left <= otherRect.right && rect.bottom >= otherRect.top && rect.top <= otherRect.bottom) {
          // Change direction upon collision
          const collisionAngle = Math.atan2(rect.top - otherRect.top, rect.left - otherRect.left) * (180 / Math.PI) + 180;
          const newSpeed = Math.random() * 4 + 1;

          // Update velocities of both particles with different angles
          const newAngle1 = collisionAngle + 90; // Change direction by 90 degrees for particle 1
          const newAngle2 = collisionAngle - 90; // Change direction by -90 degrees for particle 2
          vx = Math.cos(newAngle1 * Math.PI / 180) * newSpeed;
          vy = Math.sin(newAngle1 * Math.PI / 180) * newSpeed;
          const otherVx = Math.cos(newAngle2 * Math.PI / 180) * newSpeed;
          const otherVy = Math.sin(newAngle2 * Math.PI / 180) * newSpeed;

          // Update positions to avoid sticking to each other
          particle.style.left = `${rect.left + vx - containerRect.left}px`;
          particle.style.top = `${rect.top + vy - containerRect.top}px`;
          otherParticle.style.left = `${otherRect.left + otherVx - containerRect.left}px`;
          otherParticle.style.top = `${otherRect.top + otherVy - containerRect.top}px`;
        }
      }
    });

    // Update particle position
    if (rect.left + vx < containerRect.left || rect.right + vx > containerRect.right) {
      vx = -vx; // Reverse horizontal velocity on collision with container edge
    }

    if (rect.top + vy < containerRect.top || rect.bottom + vy > containerRect.bottom) {
      vy = -vy; // Reverse vertical velocity on collision with container edge
    }

    particle.style.left = `${rect.left + vx - containerRect.left}px`;
    particle.style.top = `${rect.top + vy - containerRect.top}px`;
  }

  // Update particle position periodically
  setInterval(updatePosition, 10); // Reduced interval for smoother movement

  particleCount++; // Increment particle count
  return particle;
}

let particleCount = 0; // Initialize particle count

// Function to animate particles
function animateParticles() {
  const container = document.querySelector('.particle-container');
  const intervalId = setInterval(() => {
    const particle = createParticle();
    container.appendChild(particle);
    if (particleCount >= 40) clearInterval(intervalId); // Stop creating particles if the limit is reached
  }, 500); // Add new particles every 500 milliseconds
}

// Start animation
animateParticles();
   </script>
      

    
</body>
</html>
